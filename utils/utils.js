const validator = require("validator");

const utils = {
  /**
   * Tests whether the URL is a valid URL by passing the submitted
   * string to the URL constructor. If invalid, the constructor will
   * throw a TypeError
   * https://developer.mozilla.org/en-US/docs/Web/API/URL/URL
   * @param {string} url - The submitted URL as a string
   * @returns true or an object with two properties if the URL was invalid
   * --Example--
   * {
   *   invalid: true,
   *   msg: `${url} is not a valid URL`
   * }
   */
  validate: url => {
    try {
      websiteURL = new URL(url);
    } catch (err) {
      return {
        invalid: true,
        msg: `${validator.escape(url)} is not a valid URL`
      };
    }
  }
};

module.exports = utils;
